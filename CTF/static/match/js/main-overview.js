define("adc:widget/main/main-overview.js",function(i,t){t.run=function(i){var t=function(){"use strict";var i=!1,t={fullscreen:!1},n=Handlebars.template(function(i,t,n,e,a){function s(i,t){var e,a,s="";return s+='<li class="timer-label">',(a=n.tip)?e=a.call(i,{hash:{},data:t}):(a=i&&i.tip,e=typeof a===r?a.call(i,{hash:{},data:t}):a),s+=c(e)+"</li>"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,i.helpers),a=a||{};var o,l="",r="function",c=this.escapeExpression,u=this;return o=n["if"].call(t,t&&t.tip,{hash:{},inverse:u.noop,fn:u.program(1,s,a),data:a}),(o||0===o)&&(l+=o),l+='\r\n<li title="\u5929" class="timer hide"><span class="days">0</span></li>\r\n<li title="\u5c0f\u65f6" class="timer hide"><span class="hours">00</span></li>\r\n<li title="\u5206" class="timer hide"><span class="minutes">00</span></li>\r\n<li title="\u79d2" class="timer"><span class="seconds">00</span></li>'}),e={cache:{status:"init"},init:function(t){var n=this;"string"==typeof socketApi&&socketApi.length?(i=io(socketApi),i.emit("remaining_time",token),i.on("remaining_time",function(i){n.remainingTime(i,"get","remaining_time")}),i.on("update_remaining_time",function(i){n.remainingTime(i,"update","update_remaining_time")})):n.bindCountdown(t.countdown),iYQ.debug&&iYQ.CS.log("bindSocket: socketApi =>>> "+i+"   socket != false:"+(0!=i))},bindCountdown:function(){var i=$("#btn-countdown"),t=$("#countdown"),n=i.data("timeout");return i.size()<1?!1:(t.size()<1&&($("#btn-countdown").html('<ul id="countdown"><li title="\u5929" class="timer" style="display: none;"><span class="days">00</span></li><li title="\u5c0f\u65f6" class="timer"><span class="hours">03</span></li><li title="\u5206" class="timer"><span class="minutes">57</span></li><li title="\u79d2" class="timer"><span class="seconds">04</span></li></ul>'),t=$("#countdown")),void(n>0&&t.size()>0&&t.show().countdown({timeout:n||null,format:"on"},function(){iYQ.Task.kill("refresh"),iYQ.Task({name:"refresh",task:function(){location.reload()},delay:1e3})})))},remainingTime:function(i,t,e){{var a=this,s=$("#btn-countdown"),o=$("#countdown");s.data("timeout")}if(s.size()<1)return!1;o.size()<1&&($("#btn-countdown").html('<ul id="countdown">'+n()+"</ul>").show(),o=$("#countdown")),iYQ.debug&&iYQ.CS.log("\nsocket-on "+e+": !!!!===>\n"+i);var l=$.parseJSON(i);try{iYQ.debug&&iYQ.CS.warn("\u5012\u8ba1\u65f6\uff1a"+l.time),iYQ.debug&&iYQ.CS.log("@main-overview.js remainingTime _opt.status: "+l.status),"reload"==l.status&&a.reload(100),l.time>0?(s.attr("data-content",l.tip).popover({content:l.tip,placement:"top",delay:{show:500,hide:100}}),o.show().countdown({timeout:l.time||null,format:"on"},function(){iYQ.debug&&iYQ.CS.log("@main-overview.js remainingTime: \u5012\u8ba1\u65f6\u7ed3\u675f\uff0c\u56de\u8c03\u5237\u65b0\u9875\u9762"),a.reload(600)}),"init"!=a.cache.status&&a.cache.status!=l.status?a.reload(600):a.cache.status=l.status):(l.time<0&&iYQ.CS.warn("\u5012\u8ba1\u65f6\u5f02\u5e38\uff0c\u8bf7\u8054\u7cfb\u8d5b\u4e8b\u88c1\u5224\u7ec4\uff1a"+l.time),"end"!=l.status?s.html(l.tip).attr("data-content",l.tip):s.hide())}catch(r){}},reload:function(i){iYQ.Task.kill("mo-reload"),iYQ.debug&&iYQ.CS.log("@main-overview.js mo-reload time:"+i),new iYQ.Task({name:"mo-reload",task:function(){location.reload()},delay:i})}};return{init:function(i){"undefined"!=typeof i&&$.extend(t,i),e.init(t)}}}();t.init(i)}});